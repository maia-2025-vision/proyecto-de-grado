schema: '2.0'
stages:
  patches-512-ol-160-mv01-val:
    cmd: python oficial_herdnet/tools/patcher.py data/val 512 512 160 
      data/patches-512-ol-160-m01/val -csv 
      data/groundtruth/csv/val_big_size_A_B_E_K_WH_WB-fixed-header.csv && python
      oficial_herdnet/tools/csv_to_points.py -i 
      data/patches-512-ol-160-m01/val/gt.csv -o 
      data/patches-512-ol-160-m01/val_points_gt.csv
    deps:
    - path: data/groundtruth/csv/val_big_size_A_B_E_K_WH_WB-fixed-header.csv
      hash: md5
      md5: 15acbab82e8022090098948c43ebff89
      size: 50622
    - path: data/val/
      hash: md5
      md5: 7c59a6075823e53aceb6ed1985746da5.dir
      size: 1041037675
      nfiles: 111
    - path: oficial_herdnet/tools/patcher.py
      hash: md5
      md5: c07f8d75238ff27ea1404b230d36bb88
      size: 4295
    outs:
    - path: data/patches-512-ol-160-m01/val/
      hash: md5
      md5: 66d0c949e34d595a2da73c7a1cd5b190.dir
      size: 42355412
      nfiles: 1167
    - path: data/patches-512-ol-160-m01/val_points_gt.csv
      hash: md5
      md5: 5c329172fbad52ddd362b5e67bccf651
      size: 95080
  patches-512-ol-160-mv01-test:
    cmd: python oficial_herdnet/tools/patcher.py data/test 512 512 160 
      data/patches-512-ol-160-m01/test -csv 
      data/groundtruth/csv/test_big_size_A_B_E_K_WH_WB-fixed-header.csv && 
      python oficial_herdnet/tools/csv_to_points.py -i 
      data/patches-512-ol-160-m01/test/gt.csv -o 
      data/patches-512-ol-160-m01/test_points_gt.csv
    deps:
    - path: data/groundtruth/csv/test_big_size_A_B_E_K_WH_WB-fixed-header.csv
      hash: md5
      md5: 30731a9a455b58e36394dd89e24849dc
      size: 120385
    - path: data/test/
      hash: md5
      md5: 543905ee38c7af30e4a5ccc4b1670752.dir
      size: 2117638463
      nfiles: 258
    - path: oficial_herdnet/tools/patcher.py
      hash: md5
      md5: c07f8d75238ff27ea1404b230d36bb88
      size: 4295
    outs:
    - path: data/patches-512-ol-160-m01/test/
      hash: md5
      md5: 71eb378f9db92d36b358703d400013cd.dir
      size: 75831301
      nfiles: 2559
    - path: data/patches-512-ol-160-m01/test_points_gt.csv
      hash: md5
      md5: d637312c2d5d6bd6acb1d05ac5560362
      size: 230725
  patches-512-ol-160-mv01-train:
    cmd: python oficial_herdnet/tools/patcher.py data/train 512 512 160 
      data/patches-512-ol-160-m01/train -csv 
      data/groundtruth/csv/train_big_size_A_B_E_K_WH_WB-fixed-header.csv && 
      python oficial_herdnet/tools/csv_to_points.py -i 
      data/patches-512-ol-160-m01/train/gt.csv -o 
      data/patches-512-ol-160-m01/train_points_gt.csv
    deps:
    - path: data/groundtruth/csv/train_big_size_A_B_E_K_WH_WB-fixed-header.csv
      hash: md5
      md5: 4df85b8755658f264f15ab15aa3b7ef3
      size: 362524
    - path: data/train/
      hash: md5
      md5: cdd58c7737f0c1e8b7a4db5f99619b86.dir
      size: 8163547559
      nfiles: 928
    - path: oficial_herdnet/tools/patcher.py
      hash: md5
      md5: c07f8d75238ff27ea1404b230d36bb88
      size: 4295
    outs:
    - path: data/patches-512-ol-160-m01/train/
      hash: md5
      md5: 8a7be22b432edc7050cc3cd719c278d3.dir
      size: 300527679
      nfiles: 8582
    - path: data/patches-512-ol-160-m01/train_points_gt.csv
      hash: md5
      md5: 4f162229d5e0c3bb1b92e44132e5e4a0
      size: 707567
  train-herdnet-v1:
    cmd: python oficial_herdnet/tools/train.py 
      train.training_settings.work_dir=data/models/herdnet_v1/
    deps:
    - path: data/patches-512-ol-160-m01/train/
      hash: md5
      md5: 8a7be22b432edc7050cc3cd719c278d3.dir
      size: 300527679
      nfiles: 8582
    - path: data/patches-512-ol-160-m01/train_points_gt.csv
      hash: md5
      md5: 4f162229d5e0c3bb1b92e44132e5e4a0
      size: 707567
    - path: data/patches-512-ol-160-m01/val/
      hash: md5
      md5: 66d0c949e34d595a2da73c7a1cd5b190.dir
      size: 42355412
      nfiles: 1167
    - path: data/patches-512-ol-160-m01/val_points_gt.csv
      hash: md5
      md5: 5c329172fbad52ddd362b5e67bccf651
      size: 95080
    outs:
    - path: data/models/herdnet_v1/
      hash: md5
      md5: 195d49aeec348661a05c4ff189f411dc.dir
      size: 442486504
      nfiles: 4
  fix-headers-train-csv:
    cmd: "sed '1s/Image,x1,y1,x2,y2,Label/images,x_min,y_min,x_max,y_max,labels/'
      data/groundtruth/csv/train_big_size_A_B_E_K_WH_WB.csv > data/gt-preprocessed/csv/train_big_size_A_B_E_K_WH_WB-fixed-header.csv\n"
    deps:
    - path: data/groundtruth/csv/train_big_size_A_B_E_K_WH_WB.csv
      hash: md5
      md5: b9a83adcb4338121b4a29bb538223069
      size: 362510
    outs:
    - path: 
        data/gt-preprocessed/csv/train_big_size_A_B_E_K_WH_WB-fixed-header.csv
      hash: md5
      md5: 4df85b8755658f264f15ab15aa3b7ef3
      size: 362524
  fix-headers-val-csv:
    cmd: "sed '1s/Image,x1,y1,x2,y2,Label/images,x_min,y_min,x_max,y_max,labels/'
      data/groundtruth/csv/val_big_size_A_B_E_K_WH_WB.csv > data/gt-preprocessed/csv/val_big_size_A_B_E_K_WH_WB-fixed-header.csv\n"
    deps:
    - path: data/groundtruth/csv/val_big_size_A_B_E_K_WH_WB.csv
      hash: md5
      md5: 670bc1087d9255d49156e84fa95ef4d7
      size: 50608
    outs:
    - path: data/gt-preprocessed/csv/val_big_size_A_B_E_K_WH_WB-fixed-header.csv
      hash: md5
      md5: 15acbab82e8022090098948c43ebff89
      size: 50622
  fix-headers-test-csv:
    cmd: "sed '1s/Image,x1,y1,x2,y2,Label/images,x_min,y_min,x_max,y_max,labels/'
      data/groundtruth/csv/test_big_size_A_B_E_K_WH_WB.csv > data/gt-preprocessed/csv/test_big_size_A_B_E_K_WH_WB-fixed-header.csv\n"
    deps:
    - path: data/groundtruth/csv/test_big_size_A_B_E_K_WH_WB.csv
      hash: md5
      md5: f9f826c539574dbd80c8a8e70ff9e2cf
      size: 120371
    outs:
    - path: 
        data/gt-preprocessed/csv/test_big_size_A_B_E_K_WH_WB-fixed-header.csv
      hash: md5
      md5: 30731a9a455b58e36394dd89e24849dc
      size: 120385
  patches-512-ol-160-mv0.3-val:
    cmd: "python ../HerdNet/tools/patcher.py    -csv data/groundtruth/csv/val_big_size_A_B_E_K_WH_WB-fixed-header.csv\
      \  -min 0.3       data/val/  512 512 160  data/patches-512-ol-160-m0.3/val\n"
    deps:
    - path: ../HerdNet/tools/patcher.py
      hash: md5
      md5: 2a07254dd36f2589e746b047d9ed640d
      size: 3802
    - path: data/groundtruth/csv/val_big_size_A_B_E_K_WH_WB-fixed-header.csv
      hash: md5
      md5: 15acbab82e8022090098948c43ebff89
      size: 50622
    - path: data/val/
      hash: md5
      md5: 7c59a6075823e53aceb6ed1985746da5.dir
      size: 1041037675
      nfiles: 111
    outs:
    - path: data/patches-512-ol-160-m0.3/val
      hash: md5
      md5: f2004882a9587bdc5af0fc4a4b1ab98d.dir
      size: 40527016
      nfiles: 1114
  patches-512-ol-160-mv0.3-test:
    cmd: "python ../HerdNet/tools/patcher.py    -csv data/groundtruth/csv/test_big_size_A_B_E_K_WH_WB-fixed-header.csv\
      \  -min 0.3 data/test/  512 512 160  data/patches-512-ol-160-m0.3/test\n"
    deps:
    - path: ../HerdNet/tools/patcher.py
      hash: md5
      md5: 2a07254dd36f2589e746b047d9ed640d
      size: 3802
    - path: data/groundtruth/csv/test_big_size_A_B_E_K_WH_WB-fixed-header.csv
      hash: md5
      md5: 30731a9a455b58e36394dd89e24849dc
      size: 120385
    - path: data/test/
      hash: md5
      md5: 543905ee38c7af30e4a5ccc4b1670752.dir
      size: 2117638463
      nfiles: 258
    outs:
    - path: data/patches-512-ol-160-m0.3/test/
      hash: md5
      md5: 5b82623f43769c275ad2d246baa5ecb3.dir
      size: 72509931
      nfiles: 2445
  patches-512-ol-160-mv0.3-train:
    cmd: "python ../HerdNet/tools/patcher.py    -csv data/groundtruth/csv/train_big_size_A_B_E_K_WH_WB-fixed-header.csv\
      \  -min 0.3 data/train/  512 512 160  data/patches-512-ol-160-m0.3/train\n"
    deps:
    - path: ../HerdNet/tools/patcher.py
      hash: md5
      md5: 2a07254dd36f2589e746b047d9ed640d
      size: 3802
    - path: data/groundtruth/csv/train_big_size_A_B_E_K_WH_WB-fixed-header.csv
      hash: md5
      md5: 4df85b8755658f264f15ab15aa3b7ef3
      size: 362524
    - path: data/train/
      hash: md5
      md5: cdd58c7737f0c1e8b7a4db5f99619b86.dir
      size: 8163547559
      nfiles: 928
    outs:
    - path: data/patches-512-ol-160-m0.3/train
      hash: md5
      md5: 264c4092e03de15c3c67bc19e0793d4a.dir
      size: 285273691
      nfiles: 8142
  patches-512-ol-160-mv0.3-train-tiny:
    cmd: "mkdir -p data/patches-512-ol-160-m0.3/train-tiny && head -n 200 data/patches-512-ol-160-m0.3/train/gt.csv\
      \  > data/patches-512-ol-160-m0.3/train-tiny/gt-head-200.csv\n"
    deps:
    - path: data/patches-512-ol-160-m0.3/train/gt.csv
      hash: md5
      md5: ab0941404acb2006ee1e210438de8c4c
      size: 1212027
    outs:
    - path: data/patches-512-ol-160-m0.3/train-tiny/gt-head-200.csv
      hash: md5
      md5: f6be0c3a0883902dd377c80886f25be4
      size: 21984
  patches-512-ol-160-mv0.3-valid-tiny:
    cmd: "mkdir -p data/patches-512-ol-160-m0.3/val-tiny &&  head -n 25 data/patches-512-ol-160-m0.3/val/gt.csv\
      \  > data/patches-512-ol-160-m0.3/val-tiny/gt-head-25.csv\n"
    deps:
    - path: data/patches-512-ol-160-m0.3/val/gt.csv
      hash: md5
      md5: 1cc3e635f39f7c4e96d03896e1c8a34e
      size: 163824
    outs:
    - path: data/patches-512-ol-160-m0.3/val-tiny/gt-head-25.csv
      hash: md5
      md5: f4866b730e65a2f4791cc7deafd8f063
      size: 2708
  train-faster-rcnn-resnet-50-hn-trainer-tiny:
    cmd: "python oficial_herdnet/tools/train.py  --config-path $PWD/configs/ train=faster_rcnn_herdnet_trainer
      train.training_settings.work_dir=data/models/faster-rcnn-tiny train.training_settings.epochs=3
      train.datasets.train.csv_file=data/patches-512-ol-160-m0.3/train-tiny/gt-head-200.csv
      train.datasets.validate.csv_file=data/patches-512-ol-160-m0.3/val-tiny/gt-head-25.csv
      train.training_settings.print_freq=10\n"
    deps:
    - path: data/patches-512-ol-160-m0.3/train-tiny/gt-head-200.csv
      hash: md5
      md5: f6be0c3a0883902dd377c80886f25be4
      size: 21984
    - path: data/patches-512-ol-160-m0.3/val-tiny/gt-head-25.csv
      hash: md5
      md5: f4866b730e65a2f4791cc7deafd8f063
      size: 2708
    - path: oficial_herdnet/tools/train.py
      hash: md5
      md5: e2bfa812a8a05e5ac2f44125f26d90ec
      size: 13040
    outs:
    - path: data/models/faster-rcnn-tiny
      hash: md5
      md5: 35cc74c89fc3e1b9a4f3c9c718a2b1e3.dir
      size: 992863812
      nfiles: 4
  add-info-to-tmp-model:
    cmd: "python tools/add_info_to_model.py --config-path $PWD/configs/ train=faster_rcnn_herdnet_trainer\
      \         add_info.best_model_pth_path=data/models/tmp/faster-rcnn/best_model-by-epoch-70.pth\n"

  train-faster-rcnn-hn-trainer:
    cmd: "python oficial_herdnet/tools/train.py  --config-path $PWD/configs/ train=faster_rcnn_herdnet_trainer
      train.wandb_mode=offline train.wandb_run=faster-rcnn-resnet-50 train.model.kwargs.architecture=resnet50
      train.training_settings.work_dir=data/models/faster-rcnn/resnet50-100-epochs-tbl4
      train.training_settings.lr=0.0001 train.training_settings.epochs=100\n"
    deps:
    - path: configs/train/faster_rcnn_herdnet_trainer.yaml
      hash: md5
      md5: f75372023df1cfc93a9b1f9af7789eb3
      size: 2305
    - path: data/patches-512-ol-160-m01/train/gt.csv
      hash: md5
      md5: e03cc597951b1eb7631bb3424cfc3e81
      size: 1311131
    - path: oficial_herdnet/tools/train.py
      hash: md5
      md5: c3cb9bcffe9e3eda4d40b1dc593b7076
      size: 14266
    outs:
    - path: data/models/faster-rcnn/resnet50-100-epochs-tbl4
      hash: md5
      md5: 07964d9d19de52e18378bc4658c4c394.dir
      size: 993451434
      nfiles: 4
  test-faster-rcnn-resnet50-patches:
    cmd: "python oficial_herdnet/tools/test.py  --config-path $PWD/configs/ test=faster_rcnn
      test.device_name=\"cuda\" test.wandb_mode=\"online\" test.wandb_run=test-frcnn-resnet50
      test.model.pth_file=data/models/faster-rcnn/resnet50-100-epochs-tbl4/best_model.pth
      test.model.kwargs.architecture=resnet50 test.stitcher=null test.dataset.csv_file=data/patches-512-ol-160-m0.3/test/gt.csv
      test.dataset.root_dir=data/patches-512-ol-160-m0.3/test/ test.results_dir=data/test_results/frcnn-resnet50\n"
    deps:
    - path: ./configs/test/faster_rcnn.yaml
      hash: md5
      md5: 2f8a1595e15f79ee52a6e081e33715bb
      size: 1231
    - path: data/models/faster-rcnn/resnet50-100-epochs-tbl4
      hash: md5
      md5: d81b61b11fb66679e17cbea3d2b3325e.dir
      size: 1490431295
      nfiles: 5
    - path: data/patches-512-ol-160-m0.3/test/
      hash: md5
      md5: 5b82623f43769c275ad2d246baa5ecb3.dir
      size: 72509931
      nfiles: 2445
    outs:
    - path: data/test_results/frcnn-resnet50
      hash: md5
      md5: f5c639b6ebd529040e88d2c26270cd3d.dir
      size: 1516718
      nfiles: 4

  test-faster-rcnn-resnet50-full:
    cmd: "python oficial_herdnet/tools/test.py  --config-path $PWD/configs/ test=faster_rcnn
      test.device_name=\"cuda\" test.wandb_mode=\"online\" test.dataset.batch_size=1
      test.wandb_run=test-frcnn-resnet50 test.model.pth_file=data/models/faster-rcnn/resnet50-100-epochs-tbl4/best_model.pth
      test.model.kwargs.architecture=resnet50 test.dataset.csv_file=data/gt-preprocessed/csv/test_big_size_A_B_E_K_WH_WB-fixed-header.csv
      test.dataset.root_dir=data/test/ test.results_dir=data/test_results/frcnn-resnet50-full-imgs\n"
    deps:
    - path: ./configs/test/faster_rcnn.yaml
      hash: md5
      md5: 48ebb007dd125641546591d2a518ef30
      size: 1184
    - path: data/models/faster-rcnn/resnet50-100-epochs-tbl4
      hash: md5
      md5: 07964d9d19de52e18378bc4658c4c394.dir
      size: 993451434
      nfiles: 4
    - path: data/test/
      hash: md5
      md5: 543905ee38c7af30e4a5ccc4b1670752.dir
      size: 2117638463
      nfiles: 258
    outs:
    - path: data/test_results/frcnn-resnet50-full-imgs
      hash: md5
      md5: 67ba715b47bc3e01aad498392943b781.dir
      size: 1245499
      nfiles: 4

  train-faster-rcnn-resnet-101:
    cmd: "python oficial_herdnet/tools/train.py  --config-path $PWD/configs/ train=faster_rcnn_herdnet_trainer
      train.wandb_mode=offline train.wandb_run=faster-rcnn-resnet-101 train.model.kwargs.architecture=resnet101
      train.training_settings.work_dir=data/models/faster-rcnn/resnet101-100-epochs-tbl4
      train.training_settings.lr=0.0002 train.training_settings.epochs=60\n"
    deps:
    - path: configs/train/faster_rcnn_herdnet_trainer.yaml
      hash: md5
      md5: f75372023df1cfc93a9b1f9af7789eb3
      size: 2305
    - path: data/patches-512-ol-160-m01/train/gt.csv
      hash: md5
      md5: e03cc597951b1eb7631bb3424cfc3e81
      size: 1311131
    - path: oficial_herdnet/tools/train.py
      hash: md5
      md5: c3cb9bcffe9e3eda4d40b1dc593b7076
      size: 14266
    outs:
    - path: data/models/faster-rcnn/resnet101-100-epochs-tbl4
      hash: md5
      md5: 14e4caebb4b4ca0b5d187d3152703404.dir
      size: 1448826284
      nfiles: 4
  test-faster-rcnn-resnet101-full:
    cmd: "python oficial_herdnet/tools/test.py  --config-path $PWD/configs/ test=faster_rcnn
      test.device_name=\"cuda\" test.wandb_mode=\"online\" test.dataset.batch_size=1
      test.wandb_run=test-frcnn-resnet101 test.model.pth_file=data/models/faster-rcnn/resnet101-100-epochs-tbl4/best_model.pth
      test.model.kwargs.architecture=resnet101 test.dataset.csv_file=data/gt-preprocessed/csv/test_big_size_A_B_E_K_WH_WB-fixed-header.csv
      test.dataset.root_dir=data/test/ test.results_dir=data/test_results/frcnn-resnet101-full-imgs\n"
    deps:
    - path: ./configs/test/faster_rcnn.yaml
      hash: md5
      md5: 2f8a1595e15f79ee52a6e081e33715bb
      size: 1231
    - path: data/models/faster-rcnn/resnet101-100-epochs-tbl4
      hash: md5
      md5: 320af9eda3b9c8e7e0914cfbc3ce817a.dir
      size: 1449564593
      nfiles: 4
    - path: data/test/
      hash: md5
      md5: 543905ee38c7af30e4a5ccc4b1670752.dir
      size: 2117638463
      nfiles: 258
    outs:
    - path: data/test_results/frcnn-resnet101-full-imgs
      hash: md5
      md5: ea48f6a005445c58f46ff4b0ab5e1bcb.dir
      size: 1120993
      nfiles: 4

  desc-faster-rcnn-resnet50:
    cmd: "python tools/describe_model.py --config-path=$PWD/configs  test=faster_rcnn
      test.device_name=\"cpu\" test.model.kwargs.architecture=resnet50 test.model.kwargs.trainable_backbone_layers=4
      test.model.pth_file=data/models/faster-rcnn/resnet50-100-epochs-tbl4/best_model.pth
      +test.group_depth=2 +test.results_file=data/model_descs/parameters-frcnn-resnet-50.csv\n"
    deps:
    - path: ./configs/test/faster_rcnn.yaml
      hash: md5
      md5: 200dc9587b7fc6c99328563464cebef5
      size: 1203
    - path: data/models/faster-rcnn/resnet50-100-epochs-tbl4
      hash: md5
      md5: d81b61b11fb66679e17cbea3d2b3325e.dir
      size: 1490431295
      nfiles: 5
    - path: tools/describe_model.py
      hash: md5
      md5: a77d72cf42f37765396a1590a123ca2f
      size: 1924
    outs:
    - path: data/model_descs/parameters-frcnn-resnet-50.csv
      hash: md5
      md5: d4804f6913553b04731e25ba51b3fd48
      size: 145

  desc-herdnet-v1:
    cmd: "python tools/describe_model.py --config-path=$PWD/configs  test=herdnet
      test.device_name=\"cpu\" test.model.pth_file=data/models/herdnet_v1/best_model.pth
      +test.group_depth=2 +test.results_file=data/model_descs/parameters-herdnet-v1.csv\n"
    deps:
    - path: data/models/herdnet_v1/best_model.pth
      hash: md5
      md5: 42e16db884bb86fed58d7b5e7dd60e01
      size: 219993031
    - path: oficial_herdnet/configs/test/herdnet.yaml
      hash: md5
      md5: e6865b870a7ed44d90ac202a8a937a94
      size: 868
    - path: tools/describe_model.py
      hash: md5
      md5: a77d72cf42f37765396a1590a123ca2f
      size: 1924
    outs:
    - path: data/model_descs/parameters-herdnet-v1.csv
      hash: md5
      md5: b500d8213f3144d096d7282eacd461b3
      size: 177

  test-herdnet-v1:
    cmd: "python oficial_herdnet/tools/test.py --config-path ../configs/ --config-name=\"\
      config\" test.wandb_run='Test-2-herdnet_v1-100-epochs' test.wandb_mode=online
      test.model.pth_file=data/models/herdnet_v1/best_model.pth test.dataset.csv_file=data/patches-512-ol-160-m01/test_points_gt.csv
      test.dataset.root_dir=data/patches-512-ol-160-m01/test/ test.stitcher=null test.results_dir=data/test_results/herdnet_v1/\n"
    deps:
    - path: data/patches-512-ol-160-m01/test/
      hash: md5
      md5: 71eb378f9db92d36b358703d400013cd.dir
      size: 75831301
      nfiles: 2559
    - path: data/patches-512-ol-160-m01/test_points_gt.csv
      hash: md5
      md5: d637312c2d5d6bd6acb1d05ac5560362
      size: 230725
    - path: oficial_herdnet/configs/test/herdnet.yaml
      hash: md5
      md5: d821ab5e2e0e26a6f9a6bb801b48ad61
      size: 1241
    outs:
    - path: data/test_results/herdnet_v1/
      hash: md5
      md5: 79df0937818f2d2b84b71b9bef521db7.dir
      size: 709421
      nfiles: 4

  test-full-to-points:
    cmd: python oficial_herdnet/tools/csv_to_points.py -i 
      data/gt-preprocessed/csv/test_big_size_A_B_E_K_WH_WB-fixed-header.csv -o 
      data/gt-preprocessed/csv/test_big_size_A_B_E_K_WH_WB-points.csv
    deps:
    - path: 
        data/gt-preprocessed/csv/test_big_size_A_B_E_K_WH_WB-fixed-header.csv
      hash: md5
      md5: 30731a9a455b58e36394dd89e24849dc
      size: 120385
    - path: oficial_herdnet/tools/csv_to_points.py
      hash: md5
      md5: 7cd233b7f117b68478aff02815763a63
      size: 1463
    outs:
    - path: data/gt-preprocessed/csv/test_big_size_A_B_E_K_WH_WB-points.csv
      hash: md5
      md5: 668fd89290f3f60f4d87c9f5fc106203
      size: 96169

  desc-faster-rcnn-resnet101:
    cmd: "python tools/describe_model.py --config-path=$PWD/configs test=faster_rcnn
      test.device_name=\"cpu\" test.model.kwargs.architecture=resnet101 test.model.kwargs.trainable_backbone_layers=4
      test.model.pth_file=data/models/faster-rcnn/resnet101-100-epochs-tbl4/best_model.pth
      +test.group_depth=2 +test.results_file=data/model_descs/parameters-frcnn-resnet-101.csv\n"
    deps:
    - path: ./configs/test/faster_rcnn.yaml
      hash: md5
      md5: 200dc9587b7fc6c99328563464cebef5
      size: 1203
    - path: data/models/faster-rcnn/resnet101-100-epochs-tbl4
      hash: md5
      md5: 320af9eda3b9c8e7e0914cfbc3ce817a.dir
      size: 1449564593
      nfiles: 4
    - path: tools/describe_model.py
      hash: md5
      md5: b46f0331b7ac4d1ea4d455e9bfe3027c
      size: 2001
    outs:
    - path: data/model_descs/parameters-frcnn-resnet-101.csv
      hash: md5
      md5: 41c0a7e0c0186f378264892bc0a81ac2
      size: 145
  test-herdnet-v1-fullimgs:
    cmd: "python oficial_herdnet/tools/test.py --config-path $PWD/oficial_herdnet/configs/
      test=herdnet test.wandb_run='test-herdnet_v1-full-imgs' test.wandb_mode=offline
      test.model.pth_file=data/models/herdnet_v1/best_model.pth test.dataset.csv_file=data/gt-preprocessed/csv/test_big_size_A_B_E_K_WH_WB-points.csv
      test.dataset.root_dir=data/test/ test.results_dir=data/test_results/herdnet_v1_fullimgs/\n"
    deps:
    - path: data/gt-preprocessed/csv/test_big_size_A_B_E_K_WH_WB-points.csv
      hash: md5
      md5: 668fd89290f3f60f4d87c9f5fc106203
      size: 96169
    - path: data/test/
      hash: md5
      md5: 543905ee38c7af30e4a5ccc4b1670752.dir
      size: 2117638463
      nfiles: 258
    - path: oficial_herdnet/configs/test/herdnet.yaml
      hash: md5
      md5: 82b371d39b1b3997cd54449b51452ab8
      size: 1186
    outs:
    - path: data/test_results/herdnet_v1_fullimgs/
      hash: md5
      md5: 88abf9c1fb52b06777f161f510ccbd20.dir
      size: 1131341
      nfiles: 4
  test-faster-rcnn-resnet50:
    cmd: "python oficial_herdnet/tools/test.py  --config-path $PWD/configs/ test=faster_rcnn
      test.device_name=\"cuda\" test.wandb_mode=\"online\" test.wandb_run=test-frcnn-resnet50
      test.model.pth_file=data/models/faster-rcnn/resnet50-100-epochs-tbl4/best_model.pth
      test.model.kwargs.architecture=resnet50 test.stitcher=null test.dataset.csv_file=data/patches-512-ol-160-m0.3/test/gt.csv
      test.dataset.root_dir=data/patches-512-ol-160-m0.3/test/ test.results_dir=data/test_results/frcnn-resnet50\n"
    deps:
    - path: ./configs/test/faster_rcnn.yaml
      hash: md5
      md5: 200dc9587b7fc6c99328563464cebef5
      size: 1203
    - path: data/models/faster-rcnn/resnet50-100-epochs-tbl4
      hash: md5
      md5: d81b61b11fb66679e17cbea3d2b3325e.dir
      size: 1490431295
      nfiles: 5
    - path: data/patches-512-ol-160-m0.3/test/
      hash: md5
      md5: 5b82623f43769c275ad2d246baa5ecb3.dir
      size: 72509931
      nfiles: 2445
    outs:
    - path: data/test_results/frcnn-resnet50
      hash: md5
      md5: f5c639b6ebd529040e88d2c26270cd3d.dir
      size: 1516718
      nfiles: 4
  train-faster-rcnn-hn-trainer-tiny:
    cmd: "python oficial_herdnet/tools/train.py  --config-path $PWD/configs/ train=faster_rcnn_herdnet_trainer
      train.training_settings.work_dir=data/models/faster-rcnn-tiny train.training_settings.epochs=3
      train.datasets.train.csv_file=data/patches-512-ol-160-m0.3/train-tiny/gt-head-200.csv
      train.datasets.validate.csv_file=data/patches-512-ol-160-m0.3/val-tiny/gt-head-25.csv
      train.training_settings.print_freq=10\n"
    deps:
    - path: data/patches-512-ol-160-m0.3/train-tiny/gt-head-200.csv
      hash: md5
      md5: f6be0c3a0883902dd377c80886f25be4
      size: 21984
    - path: data/patches-512-ol-160-m0.3/val-tiny/gt-head-25.csv
      hash: md5
      md5: f4866b730e65a2f4791cc7deafd8f063
      size: 2708
    - path: oficial_herdnet/tools/train.py
      hash: md5
      md5: c3cb9bcffe9e3eda4d40b1dc593b7076
      size: 14266
    outs:
    - path: data/models/faster-rcnn-tiny
      hash: md5
      md5: dda99b75b856061283bb13624f37de82.dir
      size: 992863813
      nfiles: 4
  patches-512-ol-160-mv01-fpwa-0.1-train:
    cmd: python animaloc_improved/tools/patcher_v2.py data/train 512 512 160 
      data/patches-512-ol-160-m01-fpwa-0.1/train -csv 
      data/groundtruth/csv/train_big_size_A_B_E_K_WH_WB-fixed-header.csv -fpwa 
      0.1
    deps:
    - path: animaloc_improved/tools/patcher_v2.py
      hash: md5
      md5: 4db9b8df5ad73ddfcd353f9b06374133
      size: 7823
    - path: data/groundtruth/csv/train_big_size_A_B_E_K_WH_WB-fixed-header.csv
      hash: md5
      md5: 4df85b8755658f264f15ab15aa3b7ef3
      size: 362524
    - path: data/train/
      hash: md5
      md5: cdd58c7737f0c1e8b7a4db5f99619b86.dir
      size: 8163547559
      nfiles: 928
    outs:
    - path: data/patches-512-ol-160-m01-fpwa-0.1/train
      hash: md5
      md5: 01a59e05aa7b2ad379d88efc4e732b85.dir
      size: 839797633
      nfiles: 24498

  patches-512-ol-160-mv01-with-hard-negs-train:
    cmd: python oficial_herdnet/tools/patcher.py data/train 512 512 160 
      data/patches-512-ol-160-m01-w-hard-negs/train -csv 
      data/gt-preprocessed/csv/train_gt_boxes_and_hard_negs.csv && cp 
      data/patches-512-ol-160-m01-w-hard-negs/train/gt.csv 
      data/patches-512-ol-160-m01-w-hard-negs/train_points_gt.csv
    deps:
    - path: data/gt-preprocessed/csv/train_gt_boxes_and_hard_negs.csv
      hash: md5
      md5: 0bb3e5753c350f9784666e5ba7d4b73a
      size: 1061454
    - path: data/train/
      hash: md5
      md5: cdd58c7737f0c1e8b7a4db5f99619b86.dir
      size: 8163547559
      nfiles: 928
    - path: oficial_herdnet/tools/patcher.py
      hash: md5
      md5: 4a3159116e040841bee2bb0bcc740f39
      size: 4172
    outs:
    - path: data/patches-512-ol-160-m01-w-hard-negs/train/
      hash: md5
      md5: aefbe2de2c2f77b4f5c62fd5f528a968.dir
      size: 599160482
      nfiles: 17153
    - path: data/patches-512-ol-160-m01-w-hard-negs/train_points_gt.csv
      hash: md5
      md5: ae801f4e45df4492aea72313839b899d
      size: 3077570
  patches-512-ol-160-mv01-with-hard-negs-val:
    cmd: python oficial_herdnet/tools/patcher.py data/val 512 512 160 
      data/patches-512-ol-160-m01-w-hard-negs/val -csv 
      data/gt-preprocessed/csv/val_gt_boxes_and_hard_negs.csv && cp 
      data/patches-512-ol-160-m01-w-hard-negs/val/gt.csv 
      data/patches-512-ol-160-m01-w-hard-negs/val_points_gt.csv
    deps:
    - path: data/gt-preprocessed/csv/val_gt_boxes_and_hard_negs.csv
      hash: md5
      md5: b313cf7f7b219a533edc0b07a121501f
      size: 161926
    - path: data/val/
      hash: md5
      md5: 7c59a6075823e53aceb6ed1985746da5.dir
      size: 1041037675
      nfiles: 111
    - path: oficial_herdnet/tools/patcher.py
      hash: md5
      md5: 4a3159116e040841bee2bb0bcc740f39
      size: 4172
    outs:
    - path: data/patches-512-ol-160-m01-w-hard-negs/val/
      hash: md5
      md5: 62a02a643e21232b07065a5902f61afb.dir
      size: 86630945
      nfiles: 2371
    - path: data/patches-512-ol-160-m01-w-hard-negs/val_points_gt.csv
      hash: md5
      md5: 221faa5f44993ad5257a14506121411f
      size: 466701
  faster-rcnn-resnet50-full-to-excel:
    cmd: "python animaloc_improved/tools/results_to_excel.py data/test_results/frcnn-resnet50-full-imgs
      -o data/test_results/frcnn-resnet50-full-imgs-xlsx\n"
    deps:
    - path: data/test_results/frcnn-resnet50-full-imgs
      hash: md5
      md5: 67ba715b47bc3e01aad498392943b781.dir
      size: 1245499
      nfiles: 4
    outs:
    - path: data/test_results/frcnn-resnet50-full-imgs-xlsx
      hash: md5
      md5: 028e7c80e5050dfe17a6b6c11a85965d.dir
      size: 5387
      nfiles: 1
  faster-rcnn-resnet101-full-to-excel:
    cmd: "python animaloc_improved/tools/results_to_excel.py data/test_results/frcnn-resnet101-full-imgs
      -o data/test_results/frcnn-resnet101-full-imgs-xlsx\n"
    deps:
    - path: data/test_results/frcnn-resnet101-full-imgs
      hash: md5
      md5: ea48f6a005445c58f46ff4b0ab5e1bcb.dir
      size: 1120993
      nfiles: 4
    outs:
    - path: data/test_results/frcnn-resnet101-full-imgs-xlsx
      hash: md5
      md5: 90b037710a90320a429d78c32f99ef55.dir
      size: 5391
      nfiles: 1
  train-herdnet-v0:
    cmd: python oficial_herdnet/tools/train.py train.wandb_run="'Herdnet Train 
      0'" train.training_settings.work_dir=data/models/herdnet_v0/ 
      train.training_settings.epochs=25
    deps:
    - path: data/patches-512-ol-160-m01/train/
      hash: md5
      md5: 8a7be22b432edc7050cc3cd719c278d3.dir
      size: 300527679
      nfiles: 8582
    - path: data/patches-512-ol-160-m01/train_points_gt.csv
      hash: md5
      md5: 4f162229d5e0c3bb1b92e44132e5e4a0
      size: 707567
    - path: data/patches-512-ol-160-m01/val/
      hash: md5
      md5: 66d0c949e34d595a2da73c7a1cd5b190.dir
      size: 42355412
      nfiles: 1167
    - path: data/patches-512-ol-160-m01/val_points_gt.csv
      hash: md5
      md5: 5c329172fbad52ddd362b5e67bccf651
      size: 95080
    outs:
    - path: data/models/herdnet_v0/
      hash: md5
      md5: 3f52388ea1778cb2f65912cc2490fde2.dir
      size: 440615285
      nfiles: 4
  test-herdnet-v0:
    cmd: "python oficial_herdnet/tools/test.py --config-path ../configs/ --config-name=\"\
      config\" test.wandb_run=\"'Test herdnet v0'\" test.wandb_mode=online test.model.pth_file=data/models/herdnet_v0/best_model.pth
      test.dataset.csv_file=data/patches-512-ol-160-m01/test_points_gt.csv test.dataset.root_dir=data/patches-512-ol-160-m01/test/
      test.stitcher=null test.results_dir=data/test_results/herdnet_v0/\n"
    deps:
    - path: data/patches-512-ol-160-m01/test/
      hash: md5
      md5: 71eb378f9db92d36b358703d400013cd.dir
      size: 75831301
      nfiles: 2559
    - path: data/patches-512-ol-160-m01/test_points_gt.csv
      hash: md5
      md5: d637312c2d5d6bd6acb1d05ac5560362
      size: 230725
    - path: oficial_herdnet/configs/test/herdnet.yaml
      hash: md5
      md5: d821ab5e2e0e26a6f9a6bb801b48ad61
      size: 1241
    outs:
    - path: data/test_results/herdnet_v0/
      hash: md5
      md5: 65eff8170605ab54c47cac3027911f1e.dir
      size: 827356
      nfiles: 4
  train-herdnet-v2:
    cmd: python oficial_herdnet/tools/train.py train.wandb_run="'Herdnet Train 2
      cross ent weights'" 
      train.losses.CrossEntropyLoss.kwargs.weight=[0.1,1.2,1.9,1.16,6.37,12.12,1.0]
      train.training_settings.work_dir=data/models/herdnet_v2/
    deps:
    - path: data/patches-512-ol-160-m01/train/
      hash: md5
      md5: 8a7be22b432edc7050cc3cd719c278d3.dir
      size: 300527679
      nfiles: 8582
    - path: data/patches-512-ol-160-m01/train_points_gt.csv
      hash: md5
      md5: 4f162229d5e0c3bb1b92e44132e5e4a0
      size: 707567
    - path: data/patches-512-ol-160-m01/val/
      hash: md5
      md5: 66d0c949e34d595a2da73c7a1cd5b190.dir
      size: 42355412
      nfiles: 1167
    - path: data/patches-512-ol-160-m01/val_points_gt.csv
      hash: md5
      md5: 5c329172fbad52ddd362b5e67bccf651
      size: 95080
    outs:
    - path: data/models/herdnet_v2/
      hash: md5
      md5: f08ac22966eb70441348b8f95a0f44b2.dir
      size: 440827108
      nfiles: 4
  test-herdnet-v2:
    cmd: "python oficial_herdnet/tools/test.py --config-path ../configs/ --config-name=\"\
      config\" test.wandb_run=\"'Test herdnet v2 cross ent weights'\" test.wandb_mode=online
      test.model.pth_file=data/models/herdnet_v2/best_model.pth test.dataset.csv_file=data/patches-512-ol-160-m01/test_points_gt.csv
      test.dataset.root_dir=data/patches-512-ol-160-m01/test/ test.stitcher=null test.results_dir=data/test_results/herdnet_v2/\n"
    deps:
    - path: data/models/herdnet_v2/best_model.pth
      hash: md5
      md5: 15e9b74d76d6be4087015455bde1f255
      size: 219993031
    - path: data/patches-512-ol-160-m01/test/
      hash: md5
      md5: 71eb378f9db92d36b358703d400013cd.dir
      size: 75831301
      nfiles: 2559
    - path: data/patches-512-ol-160-m01/test_points_gt.csv
      hash: md5
      md5: d637312c2d5d6bd6acb1d05ac5560362
      size: 230725
    - path: oficial_herdnet/configs/test/herdnet.yaml
      hash: md5
      md5: 82b371d39b1b3997cd54449b51452ab8
      size: 1186
    outs:
    - path: data/test_results/herdnet_v2/
      hash: md5
      md5: bf70e2ca75959d663e9590c716a2c045.dir
      size: 727170
      nfiles: 4
  infer-train-herdnet-v2:
    cmd: python animaloc_improved/tools/infer_v2.py data/train/ 
      data/models/herdnet_v2/best_model.pth -dest 
      data/inference/herdnet_v2/train
    deps:
    - path: animaloc_improved/tools/infer_v2.py
      hash: md5
      md5: cd02ca134bc2fe07ba08b2e8219b7af0
      size: 9007
    - path: data/models/herdnet_v2/best_model.pth
      hash: md5
      md5: 15e9b74d76d6be4087015455bde1f255
      size: 219993031
    - path: data/train
      hash: md5
      md5: cdd58c7737f0c1e8b7a4db5f99619b86.dir
      size: 8163547559
      nfiles: 928
    outs:
    - path: data/inference/herdnet_v2/train
      hash: md5
      md5: d592d1729a6beff2d163a0d089212bc3.dir
      size: 1686761
      nfiles: 2
  infer-valid-herdnet-v2:
    cmd: python animaloc_improved/tools/infer_v2.py data/val/ 
      data/models/herdnet_v2/best_model.pth -dest data/inference/herdnet_v2/val
    deps:
    - path: animaloc_improved/tools/infer_v2.py
      hash: md5
      md5: cd02ca134bc2fe07ba08b2e8219b7af0
      size: 9007
    - path: data/models/herdnet_v2/best_model.pth
      hash: md5
      md5: 15e9b74d76d6be4087015455bde1f255
      size: 219993031
    - path: data/val
      hash: md5
      md5: 7c59a6075823e53aceb6ed1985746da5.dir
      size: 1041037675
      nfiles: 111
    outs:
    - path: data/inference/herdnet_v2/val
      hash: md5
      md5: bb8f1b7a16fdff851e3663bc5653b661.dir
      size: 225486
      nfiles: 2
  mine-hard-negs-herdnet-v2:
    cmd: "python animaloc_improved/tools/mine_hard_negs.py from-pt-dets --gt_boxes
      data/groundtruth/csv/train_big_size_A_B_E_K_WH_WB-fixed-header.csv --pt_dets\
      \  data/inference/herdnet_v2/train/detections.csv --out      data/gt-preprocessed/csv/train_gt_boxes_and_hard_negs.csv
      && python animaloc_improved/tools/mine_hard_negs.py from-pt-dets --gt_boxes
      data/groundtruth/csv/val_big_size_A_B_E_K_WH_WB-fixed-header.csv --pt_dets \
      \ data/inference/herdnet_v2/val/detections.csv --out      data/gt-preprocessed/csv/val_gt_boxes_and_hard_negs.csv\n"
    deps:
    - path: animaloc_improved/tools/mine_hard_negs.py
      hash: md5
      md5: 186c3a4a0426f3092837e28357a71c40
      size: 6770
    - path: data/groundtruth/csv/train_big_size_A_B_E_K_WH_WB-fixed-header.csv
      hash: md5
      md5: 4df85b8755658f264f15ab15aa3b7ef3
      size: 362524
    - path: data/groundtruth/csv/val_big_size_A_B_E_K_WH_WB-fixed-header.csv
      hash: md5
      md5: 15acbab82e8022090098948c43ebff89
      size: 50622
    - path: data/inference/herdnet_v2/train/detections.csv
      hash: md5
      md5: b7112e904b1f748637247216718348f1
      size: 1677479
    - path: data/inference/herdnet_v2/val/detections.csv
      hash: md5
      md5: 30f2c7e00122f38e71329d2ee875aa83
      size: 224240
    outs:
    - path: data/gt-preprocessed/csv/train_gt_boxes_and_hard_negs.csv
      hash: md5
      md5: 0bb3e5753c350f9784666e5ba7d4b73a
      size: 1061454
    - path: data/gt-preprocessed/csv/val_gt_boxes_and_hard_negs.csv
      hash: md5
      md5: b313cf7f7b219a533edc0b07a121501f
      size: 161926

  train-herdnet-v2-hn:
    cmd: python oficial_herdnet/tools/train.py train.wandb_run="'Herdnet v2-Hard
      Negs'" train.wandb_mode=offline 
      train.model.load_from=data/models/herdnet_v2/best_model.pth 
      train.training_settings.epochs=50 
      train.datasets.train.csv_file=data/patches-512-ol-160-m01-w-hard-negs/train_points_gt.csv
      train.datasets.train.root_dir=data/patches-512-ol-160-m01-w-hard-negs/train
      train.datasets.validate.csv_file=data/patches-512-ol-160-m01/val_points_gt.csv
      train.datasets.validate.root_dir=data/patches-512-ol-160-m01/val 
      train.losses.CrossEntropyLoss.kwargs.weight=[0.1,1.2,1.9,1.16,6.37,12.12,1.0]
      train.training_settings.work_dir=data/models/herdnet_v2_hn/
    deps:
    - path: data/patches-512-ol-160-m01-w-hard-negs/train
      hash: md5
      md5: aefbe2de2c2f77b4f5c62fd5f528a968.dir
      size: 599160482
      nfiles: 17153
    - path: data/patches-512-ol-160-m01-w-hard-negs/train_points_gt.csv
      hash: md5
      md5: ae801f4e45df4492aea72313839b899d
      size: 3077570
    - path: data/patches-512-ol-160-m01/val/
      hash: md5
      md5: 66d0c949e34d595a2da73c7a1cd5b190.dir
      size: 42355412
      nfiles: 1167
    - path: data/patches-512-ol-160-m01/val_points_gt.csv
      hash: md5
      md5: 5c329172fbad52ddd362b5e67bccf651
      size: 95080
    outs:
    - path: data/models/herdnet_v2_hn/
      hash: md5
      md5: c35da8c5cd51f2181fc1789dd2543a98.dir
      size: 440355254
      nfiles: 4

  test-herdnet-v2-hn:
    cmd: "python oficial_herdnet/tools/test.py --config-path ../configs/ --config-name=\"\
      config\" test.wandb_run=\"'Test herdnet v2-hn'\" test.wandb_mode=online test.model.pth_file=data/models/herdnet_v2_hn/best_model.pth
      test.dataset.csv_file=data/gt-preprocessed/csv/test_big_size_A_B_E_K_WH_WB-points.csv
      test.dataset.root_dir=data/test/       test.results_dir=data/test_results/herdnet_v2_hn/\n"
    deps:
    - path: data/models/herdnet_v2_hn/best_model.pth
      hash: md5
      md5: 0749d96a1d4ef19ef6da4f871bb7ca55
      size: 219993031
    - path: data/patches-512-ol-160-m01/test/
      hash: md5
      md5: 71eb378f9db92d36b358703d400013cd.dir
      size: 75831301
      nfiles: 2559
    - path: data/patches-512-ol-160-m01/test_points_gt.csv
      hash: md5
      md5: d637312c2d5d6bd6acb1d05ac5560362
      size: 230725
    - path: oficial_herdnet/configs/test/herdnet.yaml
      hash: md5
      md5: 82b371d39b1b3997cd54449b51452ab8
      size: 1186
    outs:
    - path: data/test_results/herdnet_v2_hn/
      hash: md5
      md5: e8d40be97ae7fd09e6f73337c1567c70.dir
      size: 517853
      nfiles: 4

  test-herdnet-v2-full-imgs:
    cmd: "python oficial_herdnet/tools/test.py --config-path ../configs/ --config-name=\"\
      config\" test.wandb_run=\"'Test herdnet v2 full images'\" test.wandb_mode=online
      test.model.pth_file=data/models/herdnet_v2/best_model.pth test.dataset.csv_file=data/gt-preprocessed/csv/test_big_size_A_B_E_K_WH_WB-points.csv
      test.dataset.root_dir=data/test/       test.results_dir=data/test_results/herdnet_v2_full_imgs/\n"
    deps:
    - path: data/gt-preprocessed/csv/test_big_size_A_B_E_K_WH_WB-points.csv
      hash: md5
      md5: 668fd89290f3f60f4d87c9f5fc106203
      size: 96169
    - path: data/test/
      hash: md5
      md5: 543905ee38c7af30e4a5ccc4b1670752.dir
      size: 2117638463
      nfiles: 258
    - path: oficial_herdnet/configs/test/herdnet.yaml
      hash: md5
      md5: 82b371d39b1b3997cd54449b51452ab8
      size: 1186
    outs:
    - path: data/test_results/herdnet_v2_full_imgs/
      hash: md5
      md5: 22333f03282308053c895ac5f5f81f32.dir
      size: 684609
      nfiles: 4

  patches-1024-ol-320-mv01-train:
    cmd: python oficial_herdnet/tools/patcher.py data/train 1024 1024 320 
      data/patches-1024-ol-320-m01/train -csv 
      data/groundtruth/csv/train_big_size_A_B_E_K_WH_WB-fixed-header.csv && 
      python oficial_herdnet/tools/csv_to_points.py -i 
      data/patches-1024-ol-320-m01/train/gt.csv -o 
      data/patches-1024-ol-320-m01/train_points_gt.csv
    deps:
    - path: data/groundtruth/csv/train_big_size_A_B_E_K_WH_WB-fixed-header.csv
      hash: md5
      md5: 4df85b8755658f264f15ab15aa3b7ef3
      size: 362524
    - path: data/train/
      hash: md5
      md5: cdd58c7737f0c1e8b7a4db5f99619b86.dir
      size: 8163547559
      nfiles: 928
    - path: oficial_herdnet/tools/patcher.py
      hash: md5
      md5: c07f8d75238ff27ea1404b230d36bb88
      size: 4295
    outs:
    - path: data/patches-1024-ol-320-m01/train/
      hash: md5
      md5: 2cf136d2c2feb1bfbe627520ad232fc4.dir
      size: 715263986
      nfiles: 5449
    - path: data/patches-1024-ol-320-m01/train_points_gt.csv
      hash: md5
      md5: c29dfdea2f47b7e29974037aed26cccf
      size: 634859

  patches-1024-ol-320-mv01-val:
    cmd: python oficial_herdnet/tools/patcher.py data/val 1024 1024 320 
      data/patches-1024-ol-320-m01/val -csv 
      data/groundtruth/csv/val_big_size_A_B_E_K_WH_WB-fixed-header.csv && python
      oficial_herdnet/tools/csv_to_points.py -i 
      data/patches-1024-ol-320-m01/val/gt.csv -o 
      data/patches-1024-ol-320-m01/val_points_gt.csv
    deps:
    - path: data/groundtruth/csv/val_big_size_A_B_E_K_WH_WB-fixed-header.csv
      hash: md5
      md5: 15acbab82e8022090098948c43ebff89
      size: 50622
    - path: data/val/
      hash: md5
      md5: 7c59a6075823e53aceb6ed1985746da5.dir
      size: 1041037675
      nfiles: 111
    - path: oficial_herdnet/tools/patcher.py
      hash: md5
      md5: c07f8d75238ff27ea1404b230d36bb88
      size: 4295
    outs:
    - path: data/patches-1024-ol-320-m01/val/
      hash: md5
      md5: 78b4a4f4e611a04b64a097ad48617aa2.dir
      size: 101909891
      nfiles: 755
    - path: data/patches-1024-ol-320-m01/val_points_gt.csv
      hash: md5
      md5: 7b74f6a20aed472ad0a3cd1b46441850
      size: 85985

  patches-1024-ol-320-mv01-test:
    cmd: python oficial_herdnet/tools/patcher.py data/test 1024 1024 320 
      data/patches-1024-ol-320-m01/test -csv 
      data/groundtruth/csv/test_big_size_A_B_E_K_WH_WB-fixed-header.csv && 
      python oficial_herdnet/tools/csv_to_points.py -i 
      data/patches-1024-ol-320-m01/test/gt.csv -o 
      data/patches-1024-ol-320-m01/test_points_gt.csv
    deps:
    - path: data/groundtruth/csv/test_big_size_A_B_E_K_WH_WB-fixed-header.csv
      hash: md5
      md5: 30731a9a455b58e36394dd89e24849dc
      size: 120385
    - path: oficial_herdnet/tools/patcher.py
      hash: md5
      md5: c07f8d75238ff27ea1404b230d36bb88
      size: 4295
    outs:
    - path: data/patches-1024-ol-320-m01/test/
      hash: md5
      md5: 311bc8438cd9cff53601d5f97d18192f.dir
      size: 185189075
      nfiles: 1671
    - path: data/patches-1024-ol-320-m01/test_points_gt.csv
      hash: md5
      md5: 4cfabe5e790e7c94779ebf6b915ecdff
      size: 211969

  train-herdnet-v3:
    cmd: python oficial_herdnet/tools/train.py train.wandb_run="'Herdnet Train 3
      1024x1024'" train.wandb_mode='online' train.datasets.img_size=[1024,1024] 
      train.losses.CrossEntropyLoss.kwargs.weight=[0.1,1.2,1.9,1.16,6.37,12.12,1.0]
      train.datasets.train.csv_file=data/patches-1024-ol-320-m01/train_points_gt.csv
      train.datasets.train.root_dir=data/patches-1024-ol-320-m01/train/ 
      train.datasets.validate.csv_file=data/patches-1024-ol-320-m01/val_points_gt.csv
      train.datasets.validate.root_dir=data/patches-1024-ol-320-m01/val/ 
      train.training_settings.work_dir=data/models/herdnet_v3/ 
      train.training_settings.batch_size=2 train.training_settings.stitcher=null
    deps:
    - path: data/patches-1024-ol-320-m01/train/
      hash: md5
      md5: 2cf136d2c2feb1bfbe627520ad232fc4.dir
      size: 715263986
      nfiles: 5449
    - path: data/patches-1024-ol-320-m01/train_points_gt.csv
      hash: md5
      md5: c29dfdea2f47b7e29974037aed26cccf
      size: 634859
    - path: data/patches-1024-ol-320-m01/val/
      hash: md5
      md5: 78b4a4f4e611a04b64a097ad48617aa2.dir
      size: 101909891
      nfiles: 755
    - path: data/patches-1024-ol-320-m01/val_points_gt.csv
      hash: md5
      md5: 7b74f6a20aed472ad0a3cd1b46441850
      size: 85985
    outs:
    - path: data/models/herdnet_v3/
      hash: md5
      md5: 4034d8f7f3ee31701ebd403ba3419b72.dir
      size: 441239988
      nfiles: 4

  test-herdnet-v3:
    cmd: "python oficial_herdnet/tools/test.py --config-path ../configs/ --config-name=\"\
      config\" test.wandb_run=\"'Test herdnet v3 patches 1024'\" test.wandb_mode=online
      test.model.pth_file=data/models/herdnet_v3/best_model.pth test.dataset.img_size=[1024,1024]
      test.dataset.csv_file=data/patches-1024-ol-320-m01/test_points_gt.csv test.dataset.root_dir=data/patches-1024-ol-320-m01/test/
      test.stitcher=null test.results_dir=data/test_results/herdnet_v3/\n"
    deps:
    - path: data/patches-1024-ol-320-m01/test/
      hash: md5
      md5: 311bc8438cd9cff53601d5f97d18192f.dir
      size: 185189075
      nfiles: 1671
    - path: data/patches-1024-ol-320-m01/test_points_gt.csv
      hash: md5
      md5: 4cfabe5e790e7c94779ebf6b915ecdff
      size: 211969
    - path: oficial_herdnet/configs/test/herdnet.yaml
      hash: md5
      md5: 82b371d39b1b3997cd54449b51452ab8
      size: 1186
    outs:
    - path: data/test_results/herdnet_v3/
      hash: md5
      md5: af14a8c87a8371a467a64aa3ac3e8ca4.dir
      size: 667353
      nfiles: 4

  train-herdnet-v2-hn2:
    cmd: python oficial_herdnet/tools/train.py train.wandb_run="'Herdnet v2-Hard
      Negs-part2'" train.wandb_mode=offline 
      train.model.load_from=data/models/herdnet_v2_hn/best_model.pth 
      train.training_settings.epochs=100 
      train.datasets.train.csv_file=data/patches-512-ol-160-m01-w-hard-negs/train_points_gt.csv
      train.datasets.train.root_dir=data/patches-512-ol-160-m01-w-hard-negs/train
      train.datasets.validate.csv_file=data/patches-512-ol-160-m01/val_points_gt.csv
      train.datasets.validate.root_dir=data/patches-512-ol-160-m01/val 
      train.losses.CrossEntropyLoss.kwargs.weight=[0.1,1.2,1.9,1.16,6.37,12.12,1.0]
      train.training_settings.work_dir=data/models/herdnet_v2_hn2/
    deps:
    - path: data/models/herdnet_v2_hn/best_model.pth
      hash: md5
      md5: 501f8737a2fe4d5be54176765545b819
      size: 219993031
    - path: data/patches-512-ol-160-m01-w-hard-negs/train
      hash: md5
      md5: aefbe2de2c2f77b4f5c62fd5f528a968.dir
      size: 599160482
      nfiles: 17153
    - path: data/patches-512-ol-160-m01-w-hard-negs/train_points_gt.csv
      hash: md5
      md5: ae801f4e45df4492aea72313839b899d
      size: 3077570
    - path: data/patches-512-ol-160-m01/val/
      hash: md5
      md5: 66d0c949e34d595a2da73c7a1cd5b190.dir
      size: 42355412
      nfiles: 1167
    - path: data/patches-512-ol-160-m01/val_points_gt.csv
      hash: md5
      md5: 5c329172fbad52ddd362b5e67bccf651
      size: 95080
    outs:
    - path: data/models/herdnet_v2_hn2/
      hash: md5
      md5: 67731009792a1e5620ae66de61791a5e.dir
      size: 440589576
      nfiles: 4
  test-herdnet-v2-hn2:
    cmd: "python oficial_herdnet/tools/test.py --config-path ../configs/ --config-name=\"\
      config\" test.wandb_run=\"'Test herdnet v2-hn2'\" test.wandb_mode=online test.model.pth_file=data/models/herdnet_v2_hn2/best_model.pth
      test.dataset.csv_file=data/gt-preprocessed/csv/test_big_size_A_B_E_K_WH_WB-points.csv
      test.dataset.root_dir=data/test/       test.results_dir=data/test_results/herdnet_v2_hn2/\n"
    deps:
    - path: data/models/herdnet_v2_hn2/best_model.pth
      hash: md5
      md5: 2edbbe1c89b74656a9b8368d498c005c
      size: 219993031
    - path: data/patches-512-ol-160-m01/test/
      hash: md5
      md5: 71eb378f9db92d36b358703d400013cd.dir
      size: 75831301
      nfiles: 2559
    - path: data/patches-512-ol-160-m01/test_points_gt.csv
      hash: md5
      md5: d637312c2d5d6bd6acb1d05ac5560362
      size: 230725
    - path: oficial_herdnet/configs/test/herdnet.yaml
      hash: md5
      md5: 82b371d39b1b3997cd54449b51452ab8
      size: 1186
    outs:
    - path: data/test_results/herdnet_v2_hn2/
      hash: md5
      md5: 2f6bddfc157736c443e8d7aa81030fb6.dir
      size: 495119
      nfiles: 4
  train-faster-rcnn-resnet-50:
    cmd: "python oficial_herdnet/tools/train.py  --config-path $PWD/configs/ train=faster_rcnn_herdnet_trainer
      train.wandb_mode=offline train.wandb_run=faster-rcnn-resnet-50 train.model.kwargs.architecture=resnet50
      train.training_settings.work_dir=data/models/faster-rcnn/resnet50-100-epochs-tbl4/
      train.training_settings.lr=0.00002 train.training_settings.epochs=60\n"
    deps:
    - path: configs/train/faster_rcnn_herdnet_trainer.yaml
      hash: md5
      md5: f75372023df1cfc93a9b1f9af7789eb3
      size: 2305
    - path: data/patches-512-ol-160-m01/train/gt.csv
      hash: md5
      md5: e03cc597951b1eb7631bb3424cfc3e81
      size: 1311131
    - path: oficial_herdnet/tools/train.py
      hash: md5
      md5: c3cb9bcffe9e3eda4d40b1dc593b7076
      size: 14266
    outs:
    - path: data/models/faster-rcnn/resnet50-100-epochs-tbl4/
      hash: md5
      md5: c1723eb6c6ccb2ee3d042fe1b6e9aaca.dir
      size: 993246304
      nfiles: 4
  train-faster-rcnn-resnet-101-p2:
    cmd: "python oficial_herdnet/tools/train.py  --config-path $PWD/configs/ train=faster_rcnn_herdnet_trainer
      train.wandb_mode=offline train.wandb_run=faster-rcnn-resnet-101-p2 train.model.kwargs.architecture=resnet101
      train.model.load_from=data/models/faster-rcnn/resnet101-100-epochs-tbl4/best_model.pth
      train.training_settings.work_dir=data/models/faster-rcnn/resnet101-100-epochs-tbl4-p2
      train.training_settings.lr=0.0002 train.training_settings.epochs=40\n"
    deps:
    - path: configs/train/faster_rcnn_herdnet_trainer.yaml
      hash: md5
      md5: f75372023df1cfc93a9b1f9af7789eb3
      size: 2305
    - path: data/patches-512-ol-160-m01/train/gt.csv
      hash: md5
      md5: e03cc597951b1eb7631bb3424cfc3e81
      size: 1311131
    - path: oficial_herdnet/tools/train.py
      hash: md5
      md5: c3cb9bcffe9e3eda4d40b1dc593b7076
      size: 14266
    outs:
    - path: data/models/faster-rcnn/resnet101-100-epochs-tbl4-p2
      hash: md5
      md5: c4e752eacec31171b150074a82b38e64.dir
      size: 1448780311
      nfiles: 4
